#!/usr/bin/env sh
## ----------------------------------------------------------------------- INFO
## [.ael/.pkgmanager]
## author        = "fantomH @alterEGO Linux"
## created       = 2022-10-12 11:52:29 UTC
## updated       = 2023-08-04 02:33:25 UTC
## description   = "Package manager aliases and functions."

## -------------------- [ pacman-reset ]                                    {{{
## [pacman-reset()]
## version       = 2023-08-04 02:36:24 UTC
## description   = "Re-initialize pacman sync, mirrorlist and keyring."
## packages      = ['curl', 'sed', 'pacman']
pacman_reset() {

    message action "< pacman-reset > from $(basename $BASH_SOURCE)"
    message action "Resetting mirrolist and  ..."

    sudo rm -rf /var/lib/pacman/sync
    sudo curl -o /etc/pacman.d/mirrorlist 'https://archlinux.org/mirrorlist/?country=US&protocol=http&protocol=https&ip_version=4'
    sudo sed -i -e 's/\#Server/Server/g' /etc/pacman.d/mirrorlist
    sudo pacman -Syy --noconfirm archlinux-keyring
  }
  alias pacman-reset='pacman_reset'
  ## }}}

# vim: syntax=sh
# vim: foldmethod=marker
## ------------------------------------------------------------- FIN ¯\_(ツ)_/¯
